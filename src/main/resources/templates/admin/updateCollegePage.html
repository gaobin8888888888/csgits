<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>学校信息页面 - 大学生成长信息跟踪系统</title>
    <link rel="icon" href="favicon.ico" type="image/ico">
    <meta name="keywords" content="大学生成长信息跟踪系统">
    <meta name="description" content="大学生成长信息跟踪系统">
    <meta name="author" content="yinqi">
    <link href="/static/admin/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/admin/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="/static/admin/css/style.min.css" rel="stylesheet">
    <link href="/static/layui/css/layui.css" th:href="@{/static/layui/css/layui.css}" rel="stylesheet">
    <script src="/static/jquery/js/jquery-1.9.1.min.js" th:src="@{/static/jquery/js/jquery-1.9.1.min.js}"></script>
    <link rel="stylesheet" href="/static/admin/js/jquery-tags-input/jquery.tagsinput.min.css">
    <link href="/static/admin/css/style.min.css" rel="stylesheet">
</head>
<body>
    <form>

            <input type="hidden" id="id" name="id" th:value="${updateSchool.id}">
            <div class="form-group col-md-12">
                <label for="schoolName">学校名称</label>
                <input type="text" class="form-control" id="schoolName" name="schoolName" readonly="readonly" th:value="${updateSchool.name}" />
            </div>
            <div class="lyear-layout-web" style="margin-top: -70px;">
                <div class="lyear-layout-container">
                    <!--左侧导航-->
                    <aside class="lyear-layout-sidebar">
                        <div class="lyear-layout-sidebar-scroll">
                        </div>
                    </aside>
                    <!--End 左侧导航-->

                    <!--页面主要内容-->
                    <main class="lyear-layout-content">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="card">
                                        <div class="card-header"><h4>学院名称</h4></div>
                                        <div class="card-body">
                                            <input class="form-control js-tags-input" type="text" id="example-tags" name="tags" th:value="${updateSchool.colleges}" placeholder="请输入学院名称">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </main>
                    <!--End 页面主要内容-->
                </div>
            </div>
            <div class="form-group col-md-12">
                <button type="button" onclick="updateCollege()" class="btn btn-primary ajax-post" target-form="add-form">确 定</button>
                <button type="button" class="btn btn-default" onclick="javascript:history.back(-1);return false;">返 回</button>
            </div>

    </form>
<script type="text/javascript" src="/static/admin/js/jquery.min.js"></script>
<script type="text/javascript" src="/static/admin/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/static/admin/js/perfect-scrollbar.min.js"></script>
<!--标签插件-->
<script type="text/javascript" src="/static/admin/js/jquery-tags-input/jquery.tagsinput.min.js"></script>
<script type="text/javascript" src="/static/admin/js/main.min.js"></script>
    <script type="text/javascript" src="/static/layui/layui.all.js"></script>
</body>
<script type="text/javascript">
    function updateCollege() {
        var id = document.getElementById("id").value;
        var tags = document.getElementById("example-tags").value;
        console.log(id+"  "+tags);
        $.ajax({
            type: "POST",
            url: "/admin/school/updateColleges",
            data:{
                id : id,
                tags : tags
            },
            traditional: true,
            success: function (data) {
                location.reload();
                alert(data);
            },
            error: function (data) {
                alert("更新失败");
            }
        });
    }
</script>
</html>